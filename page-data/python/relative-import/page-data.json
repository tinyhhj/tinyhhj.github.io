{"componentChunkName":"component---src-templates-blog-post-js","path":"/python/relative-import/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"Gatsby Starter Blog"}},"markdownRemark":{"id":"f09ec161-8dac-5bb3-9266-72caea1a9c17","excerpt":"relative import reference stackoverflow","html":"<h2><a href=\"https://github.com/tinyhhj/algorithm/tree/master/src/python/relative_import\">relative import</a></h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">print(&#39;__name__&#39;,__name__,&#39;__package__&#39;,__package__)\n\n# https://stackoverflow.com/questions/14132789/relative-imports-for-the-billionth-time/14132912#14132912\n# script vs module\n\n# 파이썬은 파일을 로드할때 두가지 방법으로 로드할 수 있다. &quot;스크립트 혹은 모듈&quot;\n# 스크립트는 cli에서 &quot;python script.py&quot;라고 실행시킬 때 첫 진입점이 되는 파일이자 top-level script로 단 하나만 존재한다.\n# 모듈의 경우 다른 모듈에 의해 import 되거나, python -m 옵션으로 로딩이 가능하다.\n# 네이밍\n# 모듈을 로딩할때 모듈의 이름과 패키지 정보를 각각 __name__과 __package__에 담는다.\n# top-level script의 경우 name은 __main__, package는 None\n# 모듈의 경우 name은 모듈명은 파일명, package는 해당 모듈의 패키지명이 된다. (A 의경우 package_A 단, cli에서 직접 A를\n# 호출한다면 top-level-script가 되므로 name은 __main__, package는 None이 된다.)\n# 즉 프로그램 진입점이 되는 top-level-script가 top-level-package가 되는것이고, 모듈명에 .(dot)이 없다면 패키지의 일부인것이다.\n\n# relative import\n# relative package는 모듈의 __name__과 __package__의 정보를 기반으로 상대경로를 찾는다\n# 즉, top-level-script이거나 top-level-script와 같은 패키지를 공유하는 모듈인 경우 상대경로 임포팅이 되지 않는것이다.\n# (사실 생각해보면 top-level-package를 임포팅하기 위해서는 절대경로 임포팅을 사용하면 된다\nimport importlib\ndef setname(name):\n    import warnings\n    def pprint(module,package=None):\n        try:\n            importlib.import_module(module,package)\n        except:\n            warnings.warn(f&#39;{f&quot;from {package}&quot; if package is not None else &quot;&quot;} import module {module} can`t import from {name}&#39;)\n    return pprint\n\n\nmsg =setname(__name__)\nmsg(&#39;D&#39;)\nmsg(&#39;.D&#39;)\nmsg(&#39;package_A.A&#39;)\nmsg(&#39;package_B.B&#39;)\nmsg(&#39;package_A.package_AA.AA&#39;)</code></pre></div>\n<h3>reference</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14132789/relative-imports-for-the-billionth-time/14132912#14132912\">stackoverflow</a></li>\n</ul>","frontmatter":{"title":"[python]relative-import","date":"March 19, 2020","description":"language"}}},"pageContext":{"slug":"/python/relative-import/","previous":{"fields":{"slug":"/deep-learning/blank-review/simple-classifier/"},"frontmatter":{"title":"[deeplearning]simple-classifier"}},"next":{"fields":{"slug":"/deep-learning/blank-review/simple-noise/"},"frontmatter":{"title":""}}}}}